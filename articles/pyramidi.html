<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Midi manipulation with pyramidi • pyramidi</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Midi manipulation with pyramidi">
<meta property="og:description" content="pyramidi">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pyramidi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/pyramidi.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/compose.html">Composing from R</a>
    </li>
    <li>
      <a href="../articles/package_workflow.html">Package workflow</a>
    </li>
    <li>
      <a href="../articles/functions_usage.html">Usage of pyramidi functions</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/index.html">More...</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/urswilke/pyramidi/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="pyramidi_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Midi manipulation with pyramidi</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/urswilke/pyramidi/blob/master/vignettes/pyramidi.Rmd"><code>vignettes/pyramidi.Rmd</code></a></small>
      <div class="hidden name"><code>pyramidi.Rmd</code></div>

    </div>

    
    
<p>After installing pyramidi, you can run the helper function to install its python dependency miditapyr in your environment (in this case <code>"r-reticulate"</code>):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">pyramidi</span><span class="fu">::</span><span class="fu"><a href="../reference/install_miditapyr.html">install_miditapyr</a></span><span class="op">(</span>envname <span class="op">=</span> <span class="st">"r-reticulate"</span><span class="op">)</span>
<span class="co">#&gt; Using virtual environment 'r-reticulate' ...</span></code></pre></div>
<div id="load-libraries" class="section level2">
<h2 class="hasAnchor">
<a href="#load-libraries" class="anchor"></a>Load libraries</h2>
<p>When hopefully everything is set up correctly, we’ll load some libraries.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/urswilke/pyramidi">pyramidi</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://purrr.tidyverse.org">purrr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/htmltools">htmltools</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/">tibble</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/yonicd/details">details</a></span><span class="op">)</span>
<span class="co"># This is a small helper package, that allows to synthesize &amp; play midi files:</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/urswilke/raudiomate">raudiomate</a></span><span class="op">)</span> <span class="co"># see https://github.com/urswilke/raudiomate</span></code></pre></div>
</div>
<div id="midiframer-class" class="section level2">
<h2 class="hasAnchor">
<a href="#midiframer-class" class="anchor"></a><code>MidiFramer</code> class</h2>
<p>This class is the main structure of the package.</p>
<div id="generate-midiframer-object" class="section level3">
<h3 class="hasAnchor">
<a href="#generate-midiframer-object" class="anchor"></a>Generate <code>MidiFramer</code> object</h3>
<p>You can create an empty R6 object of class <code>"MidiFramer"</code> like so:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mfr</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/MidiFramer.html">MidiFramer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre class="details"><code>mfr</code></pre>
<details closed><p><summary><span title="Click to Open"> Show print output </span> </summary></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="op">&lt;</span>MidiFramer<span class="op">&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="st">  </span>Public<span class="op">:</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="st">    </span>clone<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">deep =</span> <span class="ot">FALSE</span>) </span>
<span id="cb5-5"><a href="#cb5-5"></a>    df_meta<span class="op">:</span><span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>    df_not_notes<span class="op">:</span><span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>    df_notes_long<span class="op">:</span><span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>    df_notes_wide<span class="op">:</span><span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb5-9"><a href="#cb5-9"></a>    dfm<span class="op">:</span><span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>    initialize<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">midi_file_string =</span> <span class="ot">NULL</span>) </span>
<span id="cb5-11"><a href="#cb5-11"></a>    mf<span class="op">:</span><span class="st"> </span>miditapyr.midi_frame.MidiFrames, python.builtin.object</span>
<span id="cb5-12"><a href="#cb5-12"></a>    midi_file_string<span class="op">:</span><span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb5-13"><a href="#cb5-13"></a>    midi_frame_mod<span class="op">:</span><span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>    params<span class="op">:</span><span class="st"> </span>list</span>
<span id="cb5-15"><a href="#cb5-15"></a>    play<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">audiofile =</span> <span class="kw">tempfile</span>(<span class="st">"mf_out_"</span>, <span class="dt">fileext =</span> <span class="st">".wav"</span>), </span>
<span id="cb5-16"><a href="#cb5-16"></a>    populate_r_fields<span class="op">:</span><span class="st"> </span><span class="cf">function</span> () </span>
<span id="cb5-17"><a href="#cb5-17"></a>    ticks_per_beat<span class="op">:</span><span class="st"> </span>active binding</span>
<span id="cb5-18"><a href="#cb5-18"></a>    update_notes_wide<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (mod) </span>
<span id="cb5-19"><a href="#cb5-19"></a>  Private<span class="op">:</span></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="st">    </span>deep_clone<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (name, value) </span></code></pre></div>
</details><p><br></p>
<p>But in this vignette, we’ll create one from a <code>midi_file_path</code> by passing it to the<br>
constructor method <code>MidiFramer$new()</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">midi_file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"test_midi_file.mid"</span>, package <span class="op">=</span> <span class="st">"pyramidi"</span><span class="op">)</span>
<span class="va">mfr</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/MidiFramer.html">MidiFramer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">midi_file_path</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">mfr</span><span class="op">)</span>
<span class="co">#&gt; [1] "MidiFramer" "R6"</span></code></pre></div>
</div>
<div id="fields-in-midiframer-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#fields-in-midiframer-objects" class="anchor"></a>Fields in <code>MidiFramer</code> objects</h3>
<p>It is an <a href="https://r6.r-lib.org/">R6</a> object that contains the following fields:</p>
<pre class="details"><code>enframe(as.list(mfr))</code></pre>
<details closed><p><summary><span title="Click to Open"> Show print output </span> </summary></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co"># A tibble: 16 × 2</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>   name              value              </span>
<span id="cb8-4"><a href="#cb8-4"></a>   <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">             </span><span class="er">&lt;</span>list<span class="op">&gt;</span><span class="st">             </span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="st"> </span><span class="dv">1</span> .__enclos_env__   <span class="op">&lt;</span>env<span class="op">&gt;</span><span class="st">              </span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="st"> </span><span class="dv">2</span> ticks_per_beat    <span class="op">&lt;</span>int [<span class="dv">1</span>]<span class="op">&gt;</span><span class="st">          </span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="st"> </span><span class="dv">3</span> params            <span class="op">&lt;</span>named list [<span class="dv">1</span>]<span class="op">&gt;</span><span class="st">   </span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="st"> </span><span class="dv">4</span> midi_frame_mod    <span class="op">&lt;</span>tibble [<span class="dv">268</span> × <span class="dv">13</span>]<span class="op">&gt;</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="st"> </span><span class="dv">5</span> df_notes_wide     <span class="op">&lt;</span>tibble [<span class="dv">130</span> × <span class="dv">11</span>]<span class="op">&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="st"> </span><span class="dv">6</span> df_not_notes      <span class="op">&lt;</span>df [<span class="dv">0</span> × <span class="dv">9</span>]<span class="op">&gt;</span><span class="st">       </span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="st"> </span><span class="dv">7</span> df_meta           <span class="op">&lt;</span>df [<span class="dv">8</span> × <span class="dv">12</span>]<span class="op">&gt;</span><span class="st">      </span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="st"> </span><span class="dv">8</span> df_notes_long     <span class="op">&lt;</span>tibble [<span class="dv">260</span> × <span class="dv">9</span>]<span class="op">&gt;</span><span class="st"> </span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="st"> </span><span class="dv">9</span> dfm               <span class="op">&lt;</span>tibble [<span class="dv">268</span> × <span class="dv">15</span>]<span class="op">&gt;</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="dv">10</span> mf                <span class="op">&lt;</span>mdt._.MF<span class="op">&gt;</span><span class="st">         </span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="dv">11</span> midi_file_string  <span class="op">&lt;</span>chr [<span class="dv">1</span>]<span class="op">&gt;</span><span class="st">          </span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="dv">12</span> clone             <span class="op">&lt;</span>fn<span class="op">&gt;</span><span class="st">               </span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="dv">13</span> play              <span class="op">&lt;</span>fn<span class="op">&gt;</span><span class="st">               </span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="dv">14</span> populate_r_fields <span class="op">&lt;</span>fn<span class="op">&gt;</span><span class="st">               </span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="dv">15</span> update_notes_wide <span class="op">&lt;</span>fn<span class="op">&gt;</span><span class="st">               </span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="dv">16</span> initialize        <span class="op">&lt;</span>fn<span class="op">&gt;</span><span class="st">               </span></span></code></pre></div>
</details><p><br></p>
<p>Please refer to <code><a href="../reference/MidiFramer.html">help(MidiFramer)</a></code> for more information on this class. The field <code>mf</code> is a <a href="https://miditapyr.readthedocs.io/en/latest/miditapyr.html#miditapyr.midi_frame.MidiFrames"><code>miditapyr.MidiFrames()</code></a> object. After its first element <code>mfr$mf$midi_file</code>, a <a href="https://mido.readthedocs.io/en/latest/midi_files.html">mido midi file object</a> with the mido message data, there are 3 more dataframes:</p>
<pre class="details"><code>list(
    mfr$mf$midi_frame_raw,
    mfr$mf$midi_frame_unnested$df,
    mfr$mf$midi_frame_nested$df
  ) %&gt;% 
  map(head, 30) %&gt;% 
  map(knitr::kable)</code></pre>
<details closed><p><summary><span title="Click to Open"> Show print output of 30 first rows of these dataframes </span> </summary></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a></span>
<span id="cb10-2"><a href="#cb10-2"></a>[[<span class="dv">1</span>]]</span>
<span id="cb10-3"><a href="#cb10-3"></a></span>
<span id="cb10-4"><a href="#cb10-4"></a></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="op">|</span><span class="st"> </span>i_track<span class="op">|</span>meta  <span class="op">|</span>msg                                                                               <span class="op">|</span></span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="er">|</span><span class="op">-------</span><span class="er">:|:</span><span class="op">-----</span><span class="er">|:</span><span class="op">---------------------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">TRUE</span>  <span class="op">|</span>track_name  , drum<span class="op">-</span>t1<span class="dv">-1</span><span class="op">-</span>t1, <span class="dv">0</span>                                                     <span class="op">|</span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">43</span>     , <span class="dv">72</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">39</span>     , <span class="dv">64</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-10"><a href="#cb10-10"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">36</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-11"><a href="#cb10-11"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">TRUE</span>  <span class="op">|</span>set_tempo, <span class="dv">666666</span>   , <span class="dv">0</span>                                                           <span class="op">|</span></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">TRUE</span>  <span class="op">|</span>time_signature, <span class="dv">4</span>             , <span class="dv">4</span>             , <span class="dv">24</span>            , <span class="dv">8</span>             , <span class="dv">0</span> <span class="op">|</span></span>
<span id="cb10-13"><a href="#cb10-13"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">240</span>     , <span class="dv">43</span>      , <span class="dv">72</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-14"><a href="#cb10-14"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">39</span>      , <span class="dv">64</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-15"><a href="#cb10-15"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">36</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-16"><a href="#cb10-16"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">42</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-17"><a href="#cb10-17"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">38</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-18"><a href="#cb10-18"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">43</span>     , <span class="dv">64</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-19"><a href="#cb10-19"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">42</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-20"><a href="#cb10-20"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">38</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-21"><a href="#cb10-21"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">240</span>     , <span class="dv">43</span>      , <span class="dv">64</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-22"><a href="#cb10-22"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">36</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-23"><a href="#cb10-23"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">240</span>     , <span class="dv">36</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-24"><a href="#cb10-24"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">43</span>     , <span class="dv">60</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-25"><a href="#cb10-25"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">42</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-26"><a href="#cb10-26"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">240</span>     , <span class="dv">43</span>      , <span class="dv">60</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-27"><a href="#cb10-27"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">42</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-28"><a href="#cb10-28"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">43</span>     , <span class="dv">60</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-29"><a href="#cb10-29"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">39</span>     , <span class="dv">66</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-30"><a href="#cb10-30"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">36</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-31"><a href="#cb10-31"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">240</span>     , <span class="dv">43</span>      , <span class="dv">60</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-32"><a href="#cb10-32"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">39</span>      , <span class="dv">66</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-33"><a href="#cb10-33"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">36</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-34"><a href="#cb10-34"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">42</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-35"><a href="#cb10-35"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">38</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-36"><a href="#cb10-36"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">43</span>     , <span class="dv">53</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-37"><a href="#cb10-37"></a></span>
<span id="cb10-38"><a href="#cb10-38"></a>[[<span class="dv">2</span>]]</span>
<span id="cb10-39"><a href="#cb10-39"></a></span>
<span id="cb10-40"><a href="#cb10-40"></a></span>
<span id="cb10-41"><a href="#cb10-41"></a><span class="op">|</span><span class="st"> </span>i_track<span class="op">|</span>meta  <span class="op">|</span>type           <span class="op">|</span>name         <span class="op">|</span><span class="st"> </span>time<span class="op">|</span><span class="st"> </span>note<span class="op">|</span><span class="st"> </span>velocity<span class="op">|</span><span class="st"> </span>channel<span class="op">|</span><span class="st">  </span>tempo<span class="op">|</span><span class="st"> </span>numerator<span class="op">|</span><span class="st"> </span>denominator<span class="op">|</span><span class="st"> </span>clocks_per_click<span class="op">|</span><span class="st"> </span>notated_32nd_notes_per_beat<span class="op">|</span></span>
<span id="cb10-42"><a href="#cb10-42"></a><span class="er">|</span><span class="op">-------</span><span class="er">:|:</span><span class="op">-----</span><span class="er">|:</span><span class="op">--------------</span><span class="er">|:</span><span class="op">------------</span><span class="er">|</span><span class="op">----</span><span class="er">:|</span><span class="op">----</span><span class="er">:|</span><span class="op">--------</span><span class="er">:|</span><span class="op">-------</span><span class="er">:|</span><span class="op">------</span><span class="er">:|</span><span class="op">---------</span><span class="er">:|</span><span class="op">-----------</span><span class="er">:|</span><span class="op">----------------</span><span class="er">:|</span><span class="op">---------------------------</span><span class="er">:|</span></span>
<span id="cb10-43"><a href="#cb10-43"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">TRUE</span>  <span class="op">|</span>track_name     <span class="op">|</span>drum<span class="op">-</span>t1<span class="dv">-1</span><span class="op">-</span>t1 <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">  </span><span class="ot">NaN</span><span class="op">|</span><span class="st">      </span><span class="ot">NaN</span><span class="op">|</span><span class="st">     </span><span class="ot">NaN</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-44"><a href="#cb10-44"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">43</span><span class="op">|</span><span class="st">       </span><span class="dv">72</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-45"><a href="#cb10-45"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">39</span><span class="op">|</span><span class="st">       </span><span class="dv">64</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-46"><a href="#cb10-46"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">36</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-47"><a href="#cb10-47"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">TRUE</span>  <span class="op">|</span>set_tempo      <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">  </span><span class="ot">NaN</span><span class="op">|</span><span class="st">      </span><span class="ot">NaN</span><span class="op">|</span><span class="st">     </span><span class="ot">NaN</span><span class="op">|</span><span class="st"> </span><span class="dv">666666</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-48"><a href="#cb10-48"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">TRUE</span>  <span class="op">|</span>time_signature <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">  </span><span class="ot">NaN</span><span class="op">|</span><span class="st">      </span><span class="ot">NaN</span><span class="op">|</span><span class="st">     </span><span class="ot">NaN</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="dv">4</span><span class="op">|</span><span class="st">           </span><span class="dv">4</span><span class="op">|</span><span class="st">               </span><span class="dv">24</span><span class="op">|</span><span class="st">                           </span><span class="dv">8</span><span class="op">|</span></span>
<span id="cb10-49"><a href="#cb10-49"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">  </span><span class="dv">240</span><span class="op">|</span><span class="st">   </span><span class="dv">43</span><span class="op">|</span><span class="st">       </span><span class="dv">72</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-50"><a href="#cb10-50"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">39</span><span class="op">|</span><span class="st">       </span><span class="dv">64</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-51"><a href="#cb10-51"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">36</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-52"><a href="#cb10-52"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">  </span><span class="dv">240</span><span class="op">|</span><span class="st">   </span><span class="dv">42</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-53"><a href="#cb10-53"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">38</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-54"><a href="#cb10-54"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">  </span><span class="dv">240</span><span class="op">|</span><span class="st">   </span><span class="dv">43</span><span class="op">|</span><span class="st">       </span><span class="dv">64</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-55"><a href="#cb10-55"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">42</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-56"><a href="#cb10-56"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">38</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-57"><a href="#cb10-57"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">  </span><span class="dv">240</span><span class="op">|</span><span class="st">   </span><span class="dv">43</span><span class="op">|</span><span class="st">       </span><span class="dv">64</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-58"><a href="#cb10-58"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">36</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-59"><a href="#cb10-59"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">  </span><span class="dv">240</span><span class="op">|</span><span class="st">   </span><span class="dv">36</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-60"><a href="#cb10-60"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">  </span><span class="dv">240</span><span class="op">|</span><span class="st">   </span><span class="dv">43</span><span class="op">|</span><span class="st">       </span><span class="dv">60</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-61"><a href="#cb10-61"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">42</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-62"><a href="#cb10-62"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">  </span><span class="dv">240</span><span class="op">|</span><span class="st">   </span><span class="dv">43</span><span class="op">|</span><span class="st">       </span><span class="dv">60</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-63"><a href="#cb10-63"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">42</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-64"><a href="#cb10-64"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">  </span><span class="dv">240</span><span class="op">|</span><span class="st">   </span><span class="dv">43</span><span class="op">|</span><span class="st">       </span><span class="dv">60</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-65"><a href="#cb10-65"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">39</span><span class="op">|</span><span class="st">       </span><span class="dv">66</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-66"><a href="#cb10-66"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">36</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-67"><a href="#cb10-67"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">  </span><span class="dv">240</span><span class="op">|</span><span class="st">   </span><span class="dv">43</span><span class="op">|</span><span class="st">       </span><span class="dv">60</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-68"><a href="#cb10-68"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">39</span><span class="op">|</span><span class="st">       </span><span class="dv">66</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-69"><a href="#cb10-69"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off       <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">36</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-70"><a href="#cb10-70"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">  </span><span class="dv">240</span><span class="op">|</span><span class="st">   </span><span class="dv">42</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-71"><a href="#cb10-71"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">    </span><span class="dv">0</span><span class="op">|</span><span class="st">   </span><span class="dv">38</span><span class="op">|</span><span class="st">      </span><span class="dv">101</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-72"><a href="#cb10-72"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on        <span class="op">|</span><span class="ot">NaN</span>          <span class="op">|</span><span class="st">  </span><span class="dv">240</span><span class="op">|</span><span class="st">   </span><span class="dv">43</span><span class="op">|</span><span class="st">       </span><span class="dv">53</span><span class="op">|</span><span class="st">       </span><span class="dv">9</span><span class="op">|</span><span class="st">    </span><span class="ot">NaN</span><span class="op">|</span><span class="st">       </span><span class="ot">NaN</span><span class="op">|</span><span class="st">         </span><span class="ot">NaN</span><span class="op">|</span><span class="st">              </span><span class="ot">NaN</span><span class="op">|</span><span class="st">                         </span><span class="ot">NaN</span><span class="op">|</span></span>
<span id="cb10-73"><a href="#cb10-73"></a></span>
<span id="cb10-74"><a href="#cb10-74"></a>[[<span class="dv">3</span>]]</span>
<span id="cb10-75"><a href="#cb10-75"></a></span>
<span id="cb10-76"><a href="#cb10-76"></a></span>
<span id="cb10-77"><a href="#cb10-77"></a><span class="op">|</span><span class="st"> </span>i_track<span class="op">|</span>meta  <span class="op">|</span>msg                                                                               <span class="op">|</span></span>
<span id="cb10-78"><a href="#cb10-78"></a><span class="er">|</span><span class="op">-------</span><span class="er">:|:</span><span class="op">-----</span><span class="er">|:</span><span class="op">---------------------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb10-79"><a href="#cb10-79"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">TRUE</span>  <span class="op">|</span>track_name  , drum<span class="op">-</span>t1<span class="dv">-1</span><span class="op">-</span>t1, <span class="dv">0</span>                                                     <span class="op">|</span></span>
<span id="cb10-80"><a href="#cb10-80"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">43</span>     , <span class="dv">72</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-81"><a href="#cb10-81"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">39</span>     , <span class="dv">64</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-82"><a href="#cb10-82"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">36</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-83"><a href="#cb10-83"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">TRUE</span>  <span class="op">|</span>set_tempo, <span class="dv">0</span>        , <span class="dv">666666</span>                                                      <span class="op">|</span></span>
<span id="cb10-84"><a href="#cb10-84"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">TRUE</span>  <span class="op">|</span>time_signature, <span class="dv">0</span>             , <span class="dv">4</span>             , <span class="dv">4</span>             , <span class="dv">24</span>            , <span class="dv">8</span> <span class="op">|</span></span>
<span id="cb10-85"><a href="#cb10-85"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">240</span>     , <span class="dv">43</span>      , <span class="dv">72</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-86"><a href="#cb10-86"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">39</span>      , <span class="dv">64</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-87"><a href="#cb10-87"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">36</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-88"><a href="#cb10-88"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">42</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-89"><a href="#cb10-89"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">38</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-90"><a href="#cb10-90"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">43</span>     , <span class="dv">64</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-91"><a href="#cb10-91"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">42</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-92"><a href="#cb10-92"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">38</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-93"><a href="#cb10-93"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">240</span>     , <span class="dv">43</span>      , <span class="dv">64</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-94"><a href="#cb10-94"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">36</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-95"><a href="#cb10-95"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">240</span>     , <span class="dv">36</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-96"><a href="#cb10-96"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">43</span>     , <span class="dv">60</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-97"><a href="#cb10-97"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">42</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-98"><a href="#cb10-98"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">240</span>     , <span class="dv">43</span>      , <span class="dv">60</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-99"><a href="#cb10-99"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">42</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-100"><a href="#cb10-100"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">43</span>     , <span class="dv">60</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-101"><a href="#cb10-101"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">39</span>     , <span class="dv">66</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-102"><a href="#cb10-102"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">36</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-103"><a href="#cb10-103"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">240</span>     , <span class="dv">43</span>      , <span class="dv">60</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-104"><a href="#cb10-104"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">39</span>      , <span class="dv">66</span>      , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-105"><a href="#cb10-105"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_off, <span class="dv">0</span>       , <span class="dv">36</span>      , <span class="dv">101</span>     , <span class="dv">9</span>                                         <span class="op">|</span></span>
<span id="cb10-106"><a href="#cb10-106"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">42</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-107"><a href="#cb10-107"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">0</span>      , <span class="dv">38</span>     , <span class="dv">101</span>    , <span class="dv">9</span>                                             <span class="op">|</span></span>
<span id="cb10-108"><a href="#cb10-108"></a><span class="er">|</span><span class="st">       </span><span class="dv">0</span><span class="op">|</span><span class="ot">FALSE</span> <span class="op">|</span>note_on, <span class="dv">240</span>    , <span class="dv">43</span>     , <span class="dv">53</span>     , <span class="dv">9</span>                                             <span class="op">|</span></span></code></pre></div>
</details><p><br></p>
<p>When <code>mf</code> is initialized <code>midi_frame_raw</code> and <code>midi_frame_nested$df</code> should be the same (except the ordering of the named fields in the <code>msg</code> column might differ).</p>
<p>For a detailed interactive overview with further links showing how the various fields in the <code>MidiFramer</code> class are related and calculated see <code><a href="../articles/package_workflow.html">vignette("package_workflow")</a></code>.</p>
</div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div id="modifying-midi-data" class="section level3">
<h3 class="hasAnchor">
<a href="#modifying-midi-data" class="anchor"></a>Modifying midi data</h3>
<p>In the <code>MidiFramer</code> object, we can modify <code>mfr$df_notes_wide</code>, the notes in notewise wide format (<code>note_on</code> &amp; <code>note_off</code> events in the same line). Thus we don’t need to worry which midi events belong together</p>
<p>Let’s look at a small example. We’ll define a function to replace every note with a random midi note between 60 &amp; 71:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mod</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">dfn</span>, <span class="va">seed</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">n_notes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dfn</span><span class="op">$</span><span class="va">note</span><span class="op">)</span><span class="op">)</span>
  <span class="va">dfn</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>note <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span>
    <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">note</span><span class="op">)</span>,
    <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">60</span><span class="op">:</span><span class="fl">71</span>, <span class="va">n_notes</span>, <span class="cn">TRUE</span><span class="op">)</span>,
    <span class="va">note</span>
  <span class="op">)</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>We could modify the notes in wide format like this:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">mod</span><span class="op">(</span><span class="va">mfr</span><span class="op">$</span><span class="va">df_notes_wide</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 130 × 11</span>
<span class="co">#&gt;    i_track meta   note channel i_note velocity_note_on velocity_note_off</span>
<span class="co">#&gt;      &lt;dbl&gt; &lt;lgl&gt; &lt;int&gt;   &lt;dbl&gt;  &lt;int&gt;            &lt;dbl&gt;             &lt;dbl&gt;</span>
<span class="co">#&gt;  1       0 FALSE    66       9      1               72                72</span>
<span class="co">#&gt;  2       0 FALSE    71       9      1               64                64</span>
<span class="co">#&gt;  3       0 FALSE    69       9      1              101               101</span>
<span class="co">#&gt;  4       0 FALSE    67       9      1              101               101</span>
<span class="co">#&gt;  5       0 FALSE    65       9      1              101               101</span>
<span class="co">#&gt;  6       0 FALSE    69       9      2               64                64</span>
<span class="co">#&gt;  7       0 FALSE    63       9      2              101               101</span>
<span class="co">#&gt;  8       0 FALSE    70       9      3               60                60</span>
<span class="co">#&gt;  9       0 FALSE    62       9      2              101               101</span>
<span class="co">#&gt; 10       0 FALSE    61       9      4               60                60</span>
<span class="co">#&gt; # … with 120 more rows, and 4 more variables: ticks_note_on &lt;dbl&gt;,</span>
<span class="co">#&gt; #   ticks_note_off &lt;dbl&gt;, b_note_on &lt;dbl&gt;, b_note_off &lt;dbl&gt;</span></code></pre></div>
<p>Then we would have to adapt all the following elements of <code>mfr</code> that depend on <code>mfr$df_notes_wide</code>.</p>
<p>When we call the method <code>mfr$update_notes_wide()</code>, all the depending list elements are also automatically updated.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Apply the modification to mfr$df_notes_wide and all depending dataframes:</span>
<span class="va">mfr</span><span class="op">$</span><span class="fu">update_notes_wide</span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></code></pre></div>
<p>The data has also been changed in <code>mfr$mf</code> the miditapyr <code>MidiFrames</code> object in mfr:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mfr</span><span class="op">$</span><span class="va">mf</span><span class="op">$</span><span class="va">midi_frame_nested</span><span class="op">$</span><span class="va">df</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   i_track  meta                            msg</span>
<span class="co">#&gt; 1       0 FALSE          9, 61, note_on, 72, 0</span>
<span class="co">#&gt; 2       0 FALSE          9, 69, note_on, 64, 0</span>
<span class="co">#&gt; 3       0 FALSE         9, 65, note_on, 101, 0</span>
<span class="co">#&gt; 4       0  TRUE    track_name, drum-t1-1-t1, 0</span>
<span class="co">#&gt; 5       0  TRUE           set_tempo, 666666, 0</span>
<span class="co">#&gt; 6       0  TRUE time_signature, 4, 4, 24, 8, 0</span></code></pre></div>
</div>
<div id="writing-modified-midi-files" class="section level3">
<h3 class="hasAnchor">
<a href="#writing-modified-midi-files" class="anchor"></a>Writing modified midi files</h3>
<p>Thus we can now directly save the modifications to a midi file:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mfr</span><span class="op">$</span><span class="va">mf</span><span class="op">$</span><span class="fu">write_file</span><span class="op">(</span><span class="st">"mod_test_midi_file.mid"</span><span class="op">)</span></code></pre></div>
</div>
<div id="playing-audio" class="section level3">
<h3 class="hasAnchor">
<a href="#playing-audio" class="anchor"></a>Playing audio</h3>
<p><strong>You need to install fluidsynth if you want to do that on your computer.</strong> <strong>To generate mp3 files, you also need ffmpeg.</strong></p>
<p>If you want to produce audio files from the midi files you can synthesize them with the convenience function <code><a href="https://urswilke.github.io/raudiomate/reference/synthesize_midi.html">synthesize_midi()</a></code></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">midifile</span> <span class="op">&lt;-</span> <span class="st">"mod_test_midi_file.mid"</span>
<span class="va">mp3file</span> <span class="op">&lt;-</span> <span class="st">"mod_test_midi_file.mp3"</span>
<span class="va">wavfile</span> <span class="op">&lt;-</span> <span class="st">"mod_test_midi_file.wav"</span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://urswilke.github.io/raudiomate/reference/synthesize_midi.html">synthesize_midi</a></span><span class="op">(</span><span class="va">midifile</span>, <span class="va">wavfile</span><span class="op">)</span></code></pre></div>
<p>You can also listen to your synthesized files by embedding an audio player for the <code>MidiFramer</code> object:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mfr</span><span class="op">$</span><span class="fu">play</span><span class="op">(</span><span class="va">mp3file</span><span class="op">)</span></code></pre></div>
<audio controls=""><source src="mod_test_midi_file.mp3" type="audio/mp3"></source></audio><p>To play the audio, this saves the synthesized file under the path specified in <code>mp3file</code>. As you can hear, the <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code> function in <code>mod()</code> changed all midi notes randomly.</p>
</div>
<div id="multiple-results" class="section level3">
<h3 class="hasAnchor">
<a href="#multiple-results" class="anchor"></a>Multiple results</h3>
<p>You can also generate a list of multiple <code>MidiFramer</code> objects (in this case 2) and apply different modifications to each:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">l_mfr</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span>
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/set_names.html">set_names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"test"</span>, <span class="va">.</span>, <span class="st">".mp3"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="op">~</span><span class="va">mfr</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">$</span><span class="fu">update_notes_wide</span><span class="op">(</span><span class="va">mod</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>And if you want to successively add modifications to the same object and store all intermediate results in a list, you could do it like this:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">l_mfr2</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span>
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/set_names.html">set_names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"test"</span>, <span class="va">.</span>, <span class="st">".mp3"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/accumulate.html">accumulate</a></span><span class="op">(</span><span class="op">~</span><span class="va">.x</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">$</span><span class="fu">update_notes_wide</span><span class="op">(</span><span class="va">mod</span><span class="op">)</span>, .init <span class="op">=</span> <span class="va">mfr</span><span class="op">)</span></code></pre></div>
<p>Please note that we made deep copies (<code>$clone(deep = TRUE)</code>) of the <code>MidiFramer</code> object in the list <code>l_mfr</code>. Otherwise the field of the python <a href="https://miditapyr.readthedocs.io/en/latest/miditapyr.html#miditapyr.midi_frame.MidiFrames"><code>miditapyr.MidiFrames</code></a> object <code>mf</code> is a shallow copy. This means that updates to one of these elements in <code>l_mfr</code> (for instance <code>l_mfr[[1]]$mf</code>) also change the others, because they all are references to the same object.</p>
<p>This is how you can embed multiple audio files in one call using <code><a href="https://purrr.tidyverse.org/reference/imap.html">purrr::imap()</a></code>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/tagList.html">tagList</a></span><span class="op">(</span>
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/imap.html">imap</a></span><span class="op">(</span>
    <span class="va">l_mfr</span>, 
    <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">div</a></span><span class="op">(</span>
      <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">h4</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"audio result"</span>, <span class="va">.y</span><span class="op">)</span><span class="op">)</span>,
      <span class="va">.x</span><span class="op">$</span><span class="fu">play</span><span class="op">(</span>audiofile <span class="op">=</span> <span class="va">.y</span><span class="op">)</span>,
      <span class="co"># add 2 line breaks to vertically separate a bit:</span>
      <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">br</a></span><span class="op">(</span><span class="op">)</span>, 
      <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">br</a></span><span class="op">(</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<div>
<h4>audio result test1.mp3</h4>
<audio controls=""><source src="test1.mp3" type="audio/mp3"></source></audio><br><br>
</div>
<div>
<h4>audio result test2.mp3</h4>
<audio controls=""><source src="test2.mp3" type="audio/mp3"></source></audio>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Urs Wilke.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
